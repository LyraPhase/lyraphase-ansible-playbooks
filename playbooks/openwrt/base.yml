---
# This playbook bootstraps an OpenWRT LEDE router with base settings

- name: OpenWRT Base
  hosts: openwrt
  user: root
  gather_facts: "{{ not (ansible_bootstrap | default(false)) }}"
  vars_files:
    - "vars/openwrt-base.yml"

  roles:
    - openwrt-base
#    - openwrt-logrotate
    - role: imp1sh.ansible_managemynetwork.ansible_packages
      when: not (ansible_bootstrap | default(false))
      tags:
        - opkg_packages
        - packages
        - install_packages
